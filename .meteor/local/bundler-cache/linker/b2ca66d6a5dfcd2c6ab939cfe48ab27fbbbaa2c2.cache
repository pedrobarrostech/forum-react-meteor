[{"type":"js","data":"/* Imports for global scope */\n\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\n$ = Package.jquery.$;\njQuery = Package.jquery.jQuery;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nMaterialize = Package['materialize:materialize'].Materialize;\nReactMeteorData = Package['react-meteor-data'].ReactMeteorData;\nmoment = Package['momentjs:moment'].moment;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\n_ = Package.underscore._;\nDDP = Package['ddp-client'].DDP;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nSpacebars = Package.spacebars.Spacebars;\nTemplate = Package.templating.Template;\nmeteorInstall = Package.modules.meteorInstall;\nBuffer = Package.modules.Buffer;\nprocess = Package.modules.process;\nSymbol = Package['ecmascript-runtime'].Symbol;\nMap = Package['ecmascript-runtime'].Map;\nSet = Package['ecmascript-runtime'].Set;\nmeteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nPromise = Package.promise.Promise;\nAccounts = Package['accounts-base'].Accounts;\nAutoupdate = Package.autoupdate.Autoupdate;\nReload = Package.reload.Reload;\nHTML = Package.htmljs.HTML;\n\n","servePath":"/packages/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"client\":{\"template.main.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                         //\n// client/template.main.js                                                                                 //\n//                                                                                                         //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                           //\n                                                                                                           // 1\nTemplate.body.addContent((function() {                                                                     // 2\n  var view = this;                                                                                         // 3\n  return HTML.Raw('<div id=\"render-target\"></div>');                                                       // 4\n}));                                                                                                       // 5\nMeteor.startup(Template.body.renderToDocument);                                                            // 6\n                                                                                                           // 7\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"main.jsx\":[\"react\",\"meteor/meteor\",\"react-dom\",\"../imports/startup/client/routes.jsx\",function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                         //\n// client/main.jsx                                                                                         //\n//                                                                                                         //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                           //\nvar React;module.import('react',{\"default\":function(v){React=v}});var Meteor;module.import('meteor/meteor',{\"Meteor\":function(v){Meteor=v}});var render;module.import('react-dom',{\"render\":function(v){render=v}});var renderRoutes;module.import('../imports/startup/client/routes.jsx',{\"renderRoutes\":function(v){renderRoutes=v}});\n                                                                                                           // 2\n                                                                                                           // 3\n                                                                                                           //\n                                                                                                           // 5\n                                                                                                           //\nMeteor.startup(function () {                                                                               // 7\n  render(renderRoutes(), document.getElementById('render-target'));                                        // 8\n});                                                                                                        // 9\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}]},\"imports\":{\"startup\":{\"client\":{\"routes.jsx\":[\"react\",\"react-dom\",\"react-router\",\"../../ui/AppPage.jsx\",\"../../ui/LoginPage.jsx\",\"../../ui/SignUpPage.jsx\",\"../../ui/NotFoundPage.jsx\",\"../../ui/QuestionsListPage.jsx\",\"../../ui/QuestionPage.jsx\",function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                         //\n// imports/startup/client/routes.jsx                                                                       //\n//                                                                                                         //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                           //\nmodule.export({renderRoutes:function(){return renderRoutes}});var React;module.import('react',{\"default\":function(v){React=v}});var render;module.import('react-dom',{\"render\":function(v){render=v}});var Router,Route,IndexRoute,browserHistory;module.import('react-router',{\"Router\":function(v){Router=v},\"Route\":function(v){Route=v},\"IndexRoute\":function(v){IndexRoute=v},\"browserHistory\":function(v){browserHistory=v}});var AppPage;module.import('../../ui/AppPage.jsx',{\"default\":function(v){AppPage=v}});var LoginPage;module.import('../../ui/LoginPage.jsx',{\"default\":function(v){LoginPage=v}});var SignUpPage;module.import('../../ui/SignUpPage.jsx',{\"default\":function(v){SignUpPage=v}});var NotFoundPage;module.import('../../ui/NotFoundPage.jsx',{\"default\":function(v){NotFoundPage=v}});var QuestionsListPage;module.import('../../ui/QuestionsListPage.jsx',{\"default\":function(v){QuestionsListPage=v}});var QuestionPage;module.import('../../ui/QuestionPage.jsx',{\"default\":function(v){QuestionPage=v}});\n                                                                                                           // 2\n                                                                                                           // 3\n                                                                                                           //\n                                                                                                           // 5\n                                                                                                           // 6\n                                                                                                           // 7\n                                                                                                           // 8\n                                                                                                           // 9\n                                                                                                           // 10\n                                                                                                           //\nbrowserHistory.listen(function (location) {                                                                // 12\n  console.log(\"Page: \" + location.pathname);                                                               // 13\n});                                                                                                        // 14\n                                                                                                           //\nvar renderRoutes = function renderRoutes() {                                                               // 16\n  return React.createElement(                                                                              // 16\n    Router,                                                                                                // 17\n    { history: browserHistory },                                                                           // 17\n    React.createElement(                                                                                   // 18\n      Route,                                                                                               // 18\n      { path: '/', component: AppPage },                                                                   // 18\n      React.createElement(IndexRoute, { component: QuestionsListPage }),                                   // 19\n      React.createElement(Route, { path: 'login', component: LoginPage }),                                 // 20\n      React.createElement(Route, { path: 'signup', component: SignUpPage }),                               // 21\n      React.createElement(Route, { path: ':questionId', component: QuestionPage })                         // 22\n    ),                                                                                                     // 18\n    React.createElement(Route, { path: '*', component: NotFoundPage })                                     // 24\n  );                                                                                                       // 17\n};                                                                                                         // 16\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}]}},\"api\":{\"questions.js\":[\"meteor/mongo\",function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                         //\n// imports/api/questions.js                                                                                //\n//                                                                                                         //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                           //\nmodule.export({Questions:function(){return Questions},QuestionComments:function(){return QuestionComments}});var Mongo;module.import('meteor/mongo',{\"Mongo\":function(v){Mongo=v}});\n                                                                                                           //\nvar Questions = new Mongo.Collection('questions');                                                         // 3\nvar QuestionComments = new Mongo.Collection('question_comments');                                          // 4\n                                                                                                           //\nQuestions.allow({                                                                                          // 6\n  update: function () {                                                                                    // 7\n    function update(userId, doc, fieldNames, modifier) {                                                   // 7\n      return false;                                                                                        // 8\n    }                                                                                                      // 9\n                                                                                                           //\n    return update;                                                                                         // 7\n  }(),                                                                                                     // 7\n  insert: function () {                                                                                    // 10\n    function insert(userId, doc) {                                                                         // 10\n      return false;                                                                                        // 11\n    }                                                                                                      // 12\n                                                                                                           //\n    return insert;                                                                                         // 10\n  }(),                                                                                                     // 10\n  remove: function () {                                                                                    // 13\n    function remove(userId, doc) {                                                                         // 13\n      return false;                                                                                        // 14\n    }                                                                                                      // 15\n                                                                                                           //\n    return remove;                                                                                         // 13\n  }()                                                                                                      // 13\n});                                                                                                        // 6\n                                                                                                           //\nMeteor.methods({                                                                                           // 18\n  \"questions.create\": function () {                                                                        // 19\n    function questionsCreate(text) {                                                                       // 19\n      if (!this.userId) {                                                                                  // 20\n        throw new Meteor.Error('not-authorized');                                                          // 21\n      }                                                                                                    // 22\n      Questions.insert({                                                                                   // 23\n        text: text,                                                                                        // 24\n        userId: this.userId,                                                                               // 25\n        createdAt: new Date() });                                                                          // 26\n    }                                                                                                      // 28\n                                                                                                           //\n    return questionsCreate;                                                                                // 19\n  }(),                                                                                                     // 19\n  // current time                                                                                          //\n  \"questions.like\": function () {                                                                          // 29\n    function questionsLike(questionId) {                                                                   // 29\n      Questions.update({ _id: questionId }, {                                                              // 30\n        $inc: {                                                                                            // 31\n          likes: 1                                                                                         // 32\n        }                                                                                                  // 31\n      });                                                                                                  // 30\n    }                                                                                                      // 35\n                                                                                                           //\n    return questionsLike;                                                                                  // 29\n  }(),                                                                                                     // 29\n  \"questions.solve\": function () {                                                                         // 36\n    function questionsSolve(questionId) {                                                                  // 36\n      Questions.update({ _id: questionId }, {                                                              // 37\n        $set: {                                                                                            // 38\n          solvedAt: new Date()                                                                             // 39\n        }                                                                                                  // 38\n      });                                                                                                  // 37\n    }                                                                                                      // 42\n                                                                                                           //\n    return questionsSolve;                                                                                 // 36\n  }(),                                                                                                     // 36\n  \"questions.comment\": function () {                                                                       // 43\n    function questionsComment(questionId, text) {                                                          // 43\n      QuestionComments.insert({                                                                            // 44\n        questionId: questionId,                                                                            // 45\n        text: text,                                                                                        // 46\n        createdAt: new Date() });                                                                          // 47\n      // current time                                                                                      //\n      Questions.update({ _id: questionId }, {                                                              // 49\n        $inc: {                                                                                            // 50\n          commentsCount: 1                                                                                 // 51\n        }                                                                                                  // 50\n      });                                                                                                  // 49\n      // Questions.update({_id: questionId}, {                                                             //\n      // });                                                                                               //\n    }                                                                                                      // 56\n                                                                                                           //\n    return questionsComment;                                                                               // 43\n  }()                                                                                                      // 43\n                                                                                                           //\n});                                                                                                        // 18\n                                                                                                           //\nif (Meteor.isServer) {                                                                                     // 60\n  Meteor.publishComposite(\"questions\", function () {                                                       // 61\n    return {                                                                                               // 62\n      find: function () {                                                                                  // 63\n        function find() {                                                                                  // 63\n          return Questions.find({}, {                                                                      // 64\n            fields: {                                                                                      // 65\n              userId: 1,                                                                                   // 66\n              text: 1,                                                                                     // 67\n              likes: 1,                                                                                    // 68\n              commentsCount: 1,                                                                            // 69\n              solvedAt: 1                                                                                  // 70\n            }                                                                                              // 65\n          });                                                                                              // 64\n        }                                                                                                  // 73\n                                                                                                           //\n        return find;                                                                                       // 63\n      }(),                                                                                                 // 63\n      children: [{                                                                                         // 74\n        find: function () {                                                                                // 76\n          function find(question) {                                                                        // 76\n            return Meteor.users.find({ _id: question.userId }, {                                           // 77\n              fields: {                                                                                    // 78\n                profile: 1                                                                                 // 79\n              }                                                                                            // 78\n            });                                                                                            // 77\n          }                                                                                                // 82\n                                                                                                           //\n          return find;                                                                                     // 76\n        }()                                                                                                // 76\n      }]                                                                                                   // 75\n    };                                                                                                     // 62\n  });                                                                                                      // 86\n  Meteor.publishComposite(\"question\", function (questionId) {                                              // 87\n    return {                                                                                               // 88\n      find: function () {                                                                                  // 89\n        function find() {                                                                                  // 89\n          return Questions.find({ _id: questionId }, {});                                                  // 90\n        }                                                                                                  // 91\n                                                                                                           //\n        return find;                                                                                       // 89\n      }(),                                                                                                 // 89\n      children: [{                                                                                         // 92\n        find: function () {                                                                                // 94\n          function find(question) {                                                                        // 94\n            return QuestionComments.find({ questionId: question._id }, {});                                // 95\n          }                                                                                                // 96\n                                                                                                           //\n          return find;                                                                                     // 94\n        }()                                                                                                // 94\n      }]                                                                                                   // 93\n    };                                                                                                     // 88\n  });                                                                                                      // 100\n}                                                                                                          // 101\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}]},\"ui\":{\"Comment.jsx\":[\"babel-runtime/helpers/classCallCheck\",\"babel-runtime/helpers/possibleConstructorReturn\",\"babel-runtime/helpers/inherits\",\"react\",function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                         //\n// imports/ui/Comment.jsx                                                                                  //\n//                                                                                                         //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                           //\nvar _classCallCheck;module.import('babel-runtime/helpers/classCallCheck',{\"default\":function(v){_classCallCheck=v}});var _possibleConstructorReturn;module.import('babel-runtime/helpers/possibleConstructorReturn',{\"default\":function(v){_possibleConstructorReturn=v}});var _inherits;module.import('babel-runtime/helpers/inherits',{\"default\":function(v){_inherits=v}});var React,Component;module.import('react',{\"default\":function(v){React=v},\"Component\":function(v){Component=v}});\n                                                                                                           //\n                                                                                                           //\n                                                                                                           // 1\n                                                                                                           //\nvar Comment = function (_Component) {                                                                      //\n  _inherits(Comment, _Component);                                                                          //\n                                                                                                           //\n  function Comment() {                                                                                     //\n    _classCallCheck(this, Comment);                                                                        //\n                                                                                                           //\n    return _possibleConstructorReturn(this, _Component.apply(this, arguments));                            //\n  }                                                                                                        //\n                                                                                                           //\n  Comment.prototype.render = function () {                                                                 //\n    function render() {                                                                                    //\n      return React.createElement(                                                                          // 5\n        'p',                                                                                               // 6\n        null,                                                                                              // 6\n        this.props.text                                                                                    // 6\n      );                                                                                                   // 6\n    }                                                                                                      // 8\n                                                                                                           //\n    return render;                                                                                         //\n  }();                                                                                                     //\n                                                                                                           //\n  return Comment;                                                                                          //\n}(Component);                                                                                              //\n                                                                                                           //\nmodule.export(\"default\",exports.default=(Comment));                                                        //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}],\"Loading.jsx\":[\"babel-runtime/helpers/classCallCheck\",\"babel-runtime/helpers/possibleConstructorReturn\",\"babel-runtime/helpers/inherits\",\"react\",function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                         //\n// imports/ui/Loading.jsx                                                                                  //\n//                                                                                                         //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                           //\nvar _classCallCheck;module.import('babel-runtime/helpers/classCallCheck',{\"default\":function(v){_classCallCheck=v}});var _possibleConstructorReturn;module.import('babel-runtime/helpers/possibleConstructorReturn',{\"default\":function(v){_possibleConstructorReturn=v}});var _inherits;module.import('babel-runtime/helpers/inherits',{\"default\":function(v){_inherits=v}});var React,Component;module.import('react',{\"default\":function(v){React=v},\"Component\":function(v){Component=v}});\n                                                                                                           //\n                                                                                                           //\n                                                                                                           // 1\n                                                                                                           //\nvar Loading = function (_Component) {                                                                      //\n  _inherits(Loading, _Component);                                                                          //\n                                                                                                           //\n  function Loading() {                                                                                     //\n    _classCallCheck(this, Loading);                                                                        //\n                                                                                                           //\n    return _possibleConstructorReturn(this, _Component.apply(this, arguments));                            //\n  }                                                                                                        //\n                                                                                                           //\n  Loading.prototype.render = function () {                                                                 //\n    function render() {                                                                                    //\n      return React.createElement(                                                                          // 6\n        'div',                                                                                             // 7\n        null,                                                                                              // 7\n        'Loading ...'                                                                                      // 7\n      );                                                                                                   // 7\n    }                                                                                                      // 9\n                                                                                                           //\n    return render;                                                                                         //\n  }();                                                                                                     //\n                                                                                                           //\n  return Loading;                                                                                          //\n}(Component);                                                                                              //\n                                                                                                           //\nmodule.export(\"default\",exports.default=(Loading));                                                        //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}],\"QuestionPage.jsx\":[\"babel-runtime/helpers/classCallCheck\",\"babel-runtime/helpers/possibleConstructorReturn\",\"babel-runtime/helpers/inherits\",\"react\",\"react-dom\",\"meteor/react-meteor-data\",\"../api/questions.js\",\"./Loading.jsx\",\"./Comment.jsx\",function(require,exports,module){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                         //\n// imports/ui/QuestionPage.jsx                                                                             //\n//                                                                                                         //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                           //\nvar _classCallCheck;module.import('babel-runtime/helpers/classCallCheck',{\"default\":function(v){_classCallCheck=v}});var _possibleConstructorReturn;module.import('babel-runtime/helpers/possibleConstructorReturn',{\"default\":function(v){_possibleConstructorReturn=v}});var _inherits;module.import('babel-runtime/helpers/inherits',{\"default\":function(v){_inherits=v}});var React,Component,PropTypes;module.import('react',{\"default\":function(v){React=v},\"Component\":function(v){Component=v},\"PropTypes\":function(v){PropTypes=v}});var ReactDOM;module.import('react-dom',{\"default\":function(v){ReactDOM=v}});var createContainer;module.import('meteor/react-meteor-data',{\"createContainer\":function(v){createContainer=v}});var Questions,QuestionComments;module.import('../api/questions.js',{\"Questions\":function(v){Questions=v},\"QuestionComments\":function(v){QuestionComments=v}});var Loading;module.import('./Loading.jsx',{\"default\":function(v){Loading=v}});var Comment;module.import('./Comment.jsx',{\"default\":function(v){Comment=v}});\n                                                                                                           //\n                                                                                                           //\n                                                                                                           // 1\n                                                                                                           // 2\n                                                                                                           // 3\n                                                                                                           // 4\n                                                                                                           // 5\n                                                                                                           // 6\n                                                                                                           //\nvar QuestionPage = function (_Component) {                                                                 //\n  _inherits(QuestionPage, _Component);                                                                     //\n                                                                                                           //\n  function QuestionPage() {                                                                                //\n    _classCallCheck(this, QuestionPage);                                                                   //\n                                                                                                           //\n    return _possibleConstructorReturn(this, _Component.apply(this, arguments));                            //\n  }                                                                                                        //\n                                                                                                           //\n  QuestionPage.prototype.handleSubmit = function () {                                                      //\n    function handleSubmit(event) {                                                                         //\n      event.preventDefault();                                                                              // 11\n      var text = ReactDOM.findDOMNode(this.refs.textInput).value.trim();                                   // 12\n      Meteor.call(\"questions.comment\", this.props.question._id, text);                                     // 13\n      ReactDOM.findDOMNode(this.refs.textInput).value = '';                                                // 14\n    }                                                                                                      // 15\n                                                                                                           //\n    return handleSubmit;                                                                                   //\n  }();                                                                                                     //\n                                                                                                           //\n  QuestionPage.prototype.renderComments = function () {                                                    //\n    function renderComments() {                                                                            //\n      return this.props.comments.map(function (comment) {                                                  // 18\n        return React.createElement(Comment, { key: comment._id, text: comment.text });                     // 18\n      });                                                                                                  // 18\n    }                                                                                                      // 21\n                                                                                                           //\n    return renderComments;                                                                                 //\n  }();                                                                                                     //\n                                                                                                           //\n  QuestionPage.prototype.render = function () {                                                            //\n    function render() {                                                                                    //\n      if (this.props.loading) {                                                                            // 24\n        return React.createElement(Loading, null);                                                         // 25\n      }                                                                                                    // 26\n      return React.createElement(                                                                          // 27\n        'div',                                                                                             // 28\n        null,                                                                                              // 28\n        React.createElement(                                                                               // 29\n          'div',                                                                                           // 29\n          { className: 'container' },                                                                      // 29\n          React.createElement(                                                                             // 30\n            'h4',                                                                                          // 30\n            null,                                                                                          // 30\n            this.props.question.text                                                                       // 30\n          ),                                                                                               // 30\n          React.createElement(                                                                             // 31\n            'p',                                                                                           // 31\n            null,                                                                                          // 31\n            moment(this.props.question.createdAt).fromNow()                                                // 31\n          ),                                                                                               // 31\n          React.createElement('br', null),                                                                 // 32\n          React.createElement(                                                                             // 33\n            'h5',                                                                                          // 33\n            null,                                                                                          // 33\n            'Comments'                                                                                     // 33\n          ),                                                                                               // 33\n          React.createElement(                                                                             // 34\n            'div',                                                                                         // 34\n            { className: 'form-group' },                                                                   // 34\n            this.renderComments(),                                                                         // 35\n            React.createElement(                                                                           // 36\n              'form',                                                                                      // 36\n              { className: 'new-comment', onSubmit: this.handleSubmit.bind(this) },                        // 36\n              React.createElement('input', {                                                               // 37\n                className: 'form-control',                                                                 // 38\n                type: 'text',                                                                              // 39\n                ref: 'textInput',                                                                          // 40\n                placeholder: 'Adicione um comentário',                                                     // 41\n                required: true                                                                             // 42\n              }),                                                                                          // 37\n              React.createElement(                                                                         // 44\n                'button',                                                                                  // 44\n                { className: 'btn-floating btn-large waves-effect waves-light red', type: 'submit' },      // 44\n                React.createElement(                                                                       // 45\n                  'i',                                                                                     // 45\n                  { className: 'material-icons' },                                                         // 45\n                  'add'                                                                                    // 45\n                )                                                                                          // 45\n              )                                                                                            // 44\n            )                                                                                              // 36\n          )                                                                                                // 34\n        )                                                                                                  // 29\n      );                                                                                                   // 28\n    }                                                                                                      // 52\n                                                                                                           //\n    return render;                                                                                         //\n  }();                                                                                                     //\n                                                                                                           //\n  return QuestionPage;                                                                                     //\n}(Component);                                                                                              //\n                                                                                                           //\nmodule.export(\"default\",exports.default=(createContainer(function (_ref) {                                 // 55\n  var params = _ref.params;                                                                                // 56\n  var location = _ref.location;                                                                            // 56\n                                                                                                           //\n  var questionsSubscription = Meteor.subscribe(\"question\", params.questionId);                             // 57\n  return {                                                                                                 // 58\n    loading: !questionsSubscription.ready(),                                                               // 59\n    question: Questions.findOne({ _id: params.questionId }),                                               // 60\n    comments: QuestionComments.find({ questionId: params.questionId }, { sort: { createdAt: 1 } }).fetch()\n  };                                                                                                       // 58\n}, QuestionPage)));                                                                                        // 63\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}]}}},{\"extensions\":[\".js\",\".json\",\".html\",\".jsx\",\".css\"]});\nrequire(\"./client/template.main.js\");\nrequire(\"./client/main.jsx\");","servePath":"/app.js","sourceMap":{"version":3,"sources":["/client/template.main.js","/client/main.jsx","/imports/startup/client/routes.jsx","/imports/api/questions.js","/imports/ui/Comment.jsx","/imports/ui/Loading.jsx","/imports/ui/QuestionPage.jsx"],"names":[],"mappings":"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","file":"/app.js","sourcesContent":["\nTemplate.body.addContent((function() {\n  var view = this;\n  return HTML.Raw('<div id=\"render-target\"></div>');\n}));\nMeteor.startup(Template.body.renderToDocument);\n","import React from 'react';\nimport { Meteor } from 'meteor/meteor';\nimport { render } from 'react-dom';\n\nimport { renderRoutes } from '../imports/startup/client/routes.jsx';\n\nMeteor.startup(() => {\n  render(renderRoutes(), document.getElementById('render-target'));\n});\n","import React from 'react';\nimport { render } from 'react-dom';\nimport { Router, Route, IndexRoute, browserHistory } from 'react-router';\n\nimport AppPage from '../../ui/AppPage.jsx';\nimport LoginPage from '../../ui/LoginPage.jsx';\nimport SignUpPage from '../../ui/SignUpPage.jsx';\nimport NotFoundPage from '../../ui/NotFoundPage.jsx';\nimport QuestionsListPage from '../../ui/QuestionsListPage.jsx';\nimport QuestionPage from '../../ui/QuestionPage.jsx';\n\nbrowserHistory.listen(function (location) {\n    console.log(\"Page: \" + location.pathname);\n});\n\nexport const renderRoutes = () => (\n  <Router history={browserHistory}>\n    <Route path=\"/\" component={AppPage} >\n      <IndexRoute component={QuestionsListPage} />\n      <Route path=\"login\" component={LoginPage} />\n      <Route path=\"signup\" component={SignUpPage} />\n      <Route path=\":questionId\" component={QuestionPage} />\n    </Route>\n    <Route path=\"*\" component={NotFoundPage}/>\n  </Router>\n);\n","import { Mongo } from 'meteor/mongo';\n\nexport const Questions = new Mongo.Collection('questions');\nexport const QuestionComments = new Mongo.Collection('question_comments');\n\nQuestions.allow({\n  update: function(userId, doc, fieldNames, modifier) {\n    return false;\n  },\n  insert: function(userId, doc) {\n    return false;\n  },\n  remove: function(userId, doc) {\n    return false;\n  }\n});\n\nMeteor.methods({\n  \"questions.create\": function(text) {\n    if (!this.userId) {\n      throw new Meteor.Error('not-authorized');\n    }\n    Questions.insert({\n      text,\n      userId: this.userId,\n      createdAt: new Date(), // current time\n    });\n  },\n  \"questions.like\": function(questionId) {\n    Questions.update({_id: questionId}, {\n      $inc: {\n        likes: 1\n      }\n    });\n  },\n  \"questions.solve\": function(questionId) {\n    Questions.update({_id: questionId}, {\n      $set: {\n        solvedAt: new Date()\n      }\n    });\n  },\n  \"questions.comment\": function(questionId, text) {\n    QuestionComments.insert({\n      questionId,\n      text,\n      createdAt: new Date(), // current time\n    });\n    Questions.update({_id: questionId}, {\n      $inc: {\n        commentsCount: 1\n      }\n    });\n    // Questions.update({_id: questionId}, {\n    // });\n  }\n\n});\n\nif (Meteor.isServer) {\n  Meteor.publishComposite(\"questions\", function () {\n    return {\n      find: function() {\n        return Questions.find({}, {\n          fields: {\n            userId: 1,\n            text: 1,\n            likes: 1,\n            commentsCount: 1,\n            solvedAt: 1\n          }\n        });\n      },\n      children: [\n        {\n          find: function(question) {\n            return Meteor.users.find({_id: question.userId}, {\n              fields: {\n                profile: 1\n              }\n            });\n          }\n        }\n      ]\n    }\n  });\n  Meteor.publishComposite(\"question\", function (questionId) {\n    return {\n      find: function() {\n        return Questions.find({_id: questionId}, {});\n      },\n      children: [\n        {\n          find: function(question) {\n            return QuestionComments.find({questionId: question._id}, {});\n          }\n        }\n      ]\n    }\n  });\n}\n","import React, { Component } from 'react';\nexport default class Comment extends Component {\n\n  render() {\n    return (\n      <p>{this.props.text}</p>\n    );\n  }\n}\n","import React, { Component } from 'react';\n\nexport default class Loading extends Component {\n\n  render() {\n    return (\n      <div>Loading ...</div>\n    );\n  }\n}\n","import React, { Component, PropTypes } from 'react';\nimport ReactDOM from 'react-dom';\nimport { createContainer } from 'meteor/react-meteor-data';\nimport { Questions, QuestionComments } from '../api/questions.js';\nimport Loading from './Loading.jsx';\nimport Comment from './Comment.jsx';\n\nclass QuestionPage extends Component {\n\n  handleSubmit(event) {\n    event.preventDefault();\n    const text = ReactDOM.findDOMNode(this.refs.textInput).value.trim();\n    Meteor.call(\"questions.comment\", this.props.question._id, text);\n    ReactDOM.findDOMNode(this.refs.textInput).value = '';\n  }\n\n  renderComments() {\n    return this.props.comments.map((comment) => (\n      <Comment key={comment._id} text={comment.text} />\n    ))\n  }\n\n  render() {\n    if (this.props.loading) {\n      return (<Loading />);\n    }\n    return (\n      <div>\n        <div className=\"container\">\n          <h4>{this.props.question.text}</h4>\n          <p>{moment(this.props.question.createdAt).fromNow()}</p>\n          <br />\n          <h5>Comments</h5>\n          <div className=\"form-group\">\n            {this.renderComments()}\n            <form className=\"new-comment\" onSubmit={this.handleSubmit.bind(this)} >\n              <input\n                className=\"form-control\"\n                type=\"text\"\n                ref=\"textInput\"\n                placeholder=\"Adicione um comentário\"\n                required\n              />\n              <button className=\"btn-floating btn-large waves-effect waves-light red\" type=\"submit\">\n                <i className=\"material-icons\">add</i>\n              </button>\n            </form>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default createContainer(\n  ( { params, location } ) => {\n    const questionsSubscription = Meteor.subscribe(\"question\", params.questionId)\n    return {\n      loading: !questionsSubscription.ready(),\n      question: Questions.findOne({_id: params.questionId}),\n      comments: QuestionComments.find({questionId: params.questionId}, {sort: {createdAt: 1}}).fetch()\n    };\n  },\n  QuestionPage);\n"]}}]